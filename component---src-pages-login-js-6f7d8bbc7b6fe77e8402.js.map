{"version":3,"sources":["webpack:///./src/utils/store.js","webpack:///./src/pages/login.js","webpack:///./src/images/login.png"],"names":["Store","email","password","this","userIsSaved","addUser","db","localStorage","MISSIVE_USERS","JSON","parse","push","stringify","removeUser","filter","e","checkUser","includes","logUser","some","Login","useState","error","setError","className","styles","attrs","autoComplete","required","src","login","alt","method","onSubmit","preventDefault","form","FormData","target","get","navigate","replace","type","name","placeholder","to","value","module","exports"],"mappings":"uJAAqBA,E,WACjB,WAAYC,EAAOC,GACfC,KAAKF,MAAQA,EACbE,KAAKF,MAAQA,EACbE,KAAKC,aAAc,EACnBD,KAAKE,QAAQJ,EAAOC,G,2BAGxBG,QAAA,SAAQJ,EAAOC,GACX,IAAII,EAAKC,aAAaC,eACtBF,EAAKA,EAAKG,KAAKC,MAAMJ,GAAM,IACxBK,KAAK,CAAEV,QAAOC,aACjBK,aAAaC,cAAgBC,KAAKG,UAAUN,GAC5CH,KAAKC,aAAc,G,EAGvBS,WAAA,SAAWZ,GACP,IAAIK,EAAKC,aAAaC,eACtBF,EAAKA,EAAKG,KAAKC,MAAMJ,GAAM,IACxBQ,QAAO,SAAAC,GAAC,OAAIA,EAAEd,QAAUA,KAC3BM,aAAaC,cAAgBC,KAAKG,UAAUN,I,EAGzCU,UAAP,SAAiBf,GACb,IAAMK,EAAKC,aAAaC,cACxB,QAAOF,GAAKA,EAAGW,SAAShB,I,EAGrBiB,QAAP,SAAejB,EAAOC,GAClB,IAAII,EAAKC,aAAaC,cAEtB,OADAF,EAAKA,EAAKG,KAAKC,MAAMJ,GAAM,IACjBa,MAAK,SAAAJ,GAAC,OAAIA,EAAEd,QAAUA,GAASc,EAAEb,WAAaA,M,4LCzBjD,SAASkB,IAAS,IAAD,EACFC,mBAAS,MAA5BC,EADqB,KACdC,EADc,KAEtBC,EAAeC,IAAM,QAAZ,qBACTC,EAAQ,CAAEC,aAAc,MAAOC,UAAU,GAkB/C,OACI,6BAASJ,UAAWA,GAChB,6BACI,yBAAKK,IAAKC,IAAOC,IAAI,aAGzB,6BACI,8CAAmB,6BAAnB,aACA,0BAAMC,OAAO,OAAOC,SAxBd,SAAAlB,GACdA,EAAEmB,iBACF,IAAMC,EAAO,IAAIC,SAASrB,EAAEsB,QACtBpC,EAAQkC,EAAKG,IAAI,SACjBpC,EAAWiC,EAAKG,IAAI,YACPtC,IAAMkB,QAAQjB,EAAOC,GAOpCqC,mBAAS,cAAe,CAAEC,SAAS,IAJnCjB,EAAS,yCAgBoCI,aAAa,OAClD,2BAAIL,GACJ,yCAAOmB,KAAK,QAAQC,KAAK,QAAQC,YAAY,iBAAoBjB,IACjE,yCAAOe,KAAK,WAAWC,KAAK,WAAWC,YAAY,qBAAwBjB,IAC3E,kBAAC,OAAD,CAAMkB,GAAG,WAAT,mBACA,6BACI,2BAAOH,KAAK,SAASI,MAAM,UAC3B,2CACc,kBAAC,OAAD,CAAMD,GAAG,WAAT,kB,qBC3CtCE,EAAOC,QAAU,IAA0B","file":"component---src-pages-login-js-6f7d8bbc7b6fe77e8402.js","sourcesContent":["export default class Store {\r\n    constructor(email, password) {\r\n        this.email = email;\r\n        this.email = email;\r\n        this.userIsSaved = false;\r\n        this.addUser(email, password);\r\n    }\r\n\r\n    addUser(email, password) {\r\n        let db = localStorage.MISSIVE_USERS;\r\n        db = db ? JSON.parse(db) : [];\r\n        db.push({ email, password });\r\n        localStorage.MISSIVE_USERS = JSON.stringify(db);\r\n        this.userIsSaved = true;\r\n    }\r\n    \r\n    removeUser(email) {\r\n        let db = localStorage.MISSIVE_USERS;\r\n        db = db ? JSON.parse(db) : [];\r\n        db.filter(e => e.email !== email);\r\n        localStorage.MISSIVE_USERS = JSON.stringify(db);\r\n    }\r\n    \r\n    static checkUser(email) {\r\n        const db = localStorage.MISSIVE_USERS;\r\n        return db ? db.includes(email) : false;\r\n    }\r\n    \r\n    static logUser(email, password) {\r\n        let db = localStorage.MISSIVE_USERS;\r\n        db = db ? JSON.parse(db) : [];\r\n        return db.some(e => e.email === email && e.password === password);\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport { Link, navigate } from 'gatsby'\r\nimport Store from '../utils/store'\r\nimport login from '../images/login.png'\r\nimport styles from '../styles/form.module.css'\r\n\r\nexport default function Login() {\r\n    const [error, setError] = useState(null);\r\n    const className = `${styles['section']} container mx-auto`;\r\n    const attrs = { autoComplete: 'off', required: true }\r\n\r\n    const logUserIn = e => {\r\n        e.preventDefault();\r\n        const form = new FormData(e.target);\r\n        const email = form.get('email');\r\n        const password = form.get('password');\r\n        const userExists = Store.logUser(email, password);\r\n\r\n        if (!userExists) {\r\n            setError('Your email or password is incorrect.');\r\n        }\r\n\r\n        else {\r\n            navigate('/dashboard/', { replace: true });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <section className={className}>\r\n            <div>\r\n                <img src={login} alt=\"caption\" />\r\n            </div>\r\n\r\n            <div>\r\n                <h1>Log in to your <br /> account.</h1>\r\n                <form method=\"post\" onSubmit={logUserIn} autoComplete=\"off\">\r\n                    <p>{error}</p>\r\n                    <input type=\"email\" name=\"email\" placeholder=\"Email Address\" {...attrs} />\r\n                    <input type=\"password\" name=\"password\" placeholder=\"Create a Password\" {...attrs} />\r\n                    <Link to=\"/forgot\">Forgot password</Link>\r\n                    <div>\r\n                        <input type=\"submit\" value=\"Login\" />\r\n                        <span>\r\n                            New here? <Link to=\"/signup\">Sign Up</Link>\r\n                        </span>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/login-63bd0dbee7ff07679a053b5d89d944be.png\";"],"sourceRoot":""}